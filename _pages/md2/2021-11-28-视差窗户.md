---
title: 《视差窗户》
author: DH Wang
date: 1000-01-01
category: TA
layout: post
---

# 假室内(Fake Interior)窗户效果


![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/11/28/1.jpg)

透过窗户看到的房间是伪造的，但Interior Mapping的应用让它们在透视上是完全正确的，并且具有真实的深度。
主要功能：
1、内部的假室内效果使用cubenmap的形式采样而非2D贴图
2、室外反射效果支持烘培的reflection Probe反射
3、支持点光源（additional light）和主光源（mainlight）的光照结果
4、支持灯光的烘培效果即lightingmap
5、可以单独控制室内室外的反射强度（即模糊程度）和室外玻璃的粗糙度


![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/11/28/2.jpg)


参数介绍
 
WindowAlpha	    | 窗户的透明度，但物体本身是不透明的
(Indoor)Color	| 室内调节cubemap的颜色
Cubemap	        | 室内环境贴图
Depth	        | 室内深度通过环境贴图的六个面区分边界
Blur	        | 室内环境贴图的模糊程度即mip级数
Intensity	    | 室内强度
(Outdoor)Color	| 玻璃的颜色
WindowTexture	| 玻璃贴图
EnableNormal	| 是否使用法线贴图开关
BumpScale	    | 法线贴图的法线强度值
Normal	        | 法线贴图
Roughness(Tex)	| 粗糙度贴图
Roughness	    | 整体粗糙度值
Blur	        | 烘培的环境反射的模糊强度


烘培效果
反射探针（Reflection Probe）
室外的反射效果由烘培出来的cubemap表现，默认为场景默认的天空盒。可通过控制blur参数实现反射probe的模糊程度。

## 3.gif


灯光烘培
烘培出来的lightingmap表现为室外效果即玻璃表面上，如下：

![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/11/28/3.jpg)


注意事项
因为这类材质的特殊性是建立在平面物体的表现上，所以转折处的效果会出现穿帮的迹象需要通过调整UV尽量找到合适的角度进行制作模型，但无法完全避免。

![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/11/28/4.jpg)

![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/11/28/5.jpg)


可以通过平面贴图或长方体贴图的投影方式获取整体效果的UV布局后再调整转角处的局部模型。由于室内效果是通过视差映射实现的，所以如果想要实现不会出现局部拉伸严重的地方这块模型的UV应当和整体模型的大小比例接近，具体效果需视具体模型结构情况而进行调整。

![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/11/28/6.jpg)
