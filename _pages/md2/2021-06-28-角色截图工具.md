---
title: 《unity角色截图工具》
author: DH Wang
date: 1000-01-01
category: TA
layout: post
---


# Title

![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/6/28/1.jpg)

需要做出修改的部分：

1.为了正确获取透明物体的alpha值所以需要对原先的混合模式进行修改。待修改shader的文件信息如下:
 
修改内容如下：
将Blend SrcAlpha OneMinusSrcAlpha, Zero OneMinusSrcAlpha
改为Blend SrcAlpha OneMinusSrcAlpha  ,One OneMinusSrcAlpha


![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/6/28/2.jpg)

2.需要将场景中主相机的tag设置为MainCamera，点击Capture_tga后会成功截取将自动打开预览。

3.需要用到render feature来获取深度所以需要添加一个feature（手动添加）
路径：VP\trunk-URP\client\Assets\H3DTech\Setting\Renders\ForwardRenderer.asset
名称：CaptureDepthRenderPassFeature


![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/6/28/3.jpg)

最终效果：

![](https://dhwblog-1301640854.cos.ap-chongqing.myqcloud.com/picture/img/21/6/28/4.jpg)

因为头发部分经过特殊处理所以直接截取相机的RT的数据会出错，将透明物体和不透明物体分开提取数据最后混合得出正确结果。



 